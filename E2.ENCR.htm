<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
        <pre>
            <code>
                #include <stdio.h>
                    #include <string.h> // Needed for strlen()
                    
                    int main()
                    {
                        int i, x;
                        char str[100];
                        printf("\nPlease enter a string:\t");
                        fgets(str, sizeof(str), stdin); // Safe way to read strings
                        str[strcspn(str, "\n")] = '\0'; // Remove any newline character left by fgets
                    
                        printf("\nPlease choose the following options:\n");
                        printf("1 = Encrypt the string.\n");
                        printf("2 = Decrypt the string.\n");
                        if (scanf("%d", &x) != 1) {
                            printf("Invalid input.\n");
                            return 1;
                        }
                    
                        // Clear the input buffer
                        while (getchar() != '\n');
                    
                        // Using switch case statements
                        switch (x) {
                            case 1:
                                for (i = 0; i < strlen(str); i++) {
                                    str[i] = str[i] + 3; // The key for encryption is 3 added to ASCII value
                                }
                                printf("\nEncrypted string: %s\n", str);
                                break;
                            case 2:
                                for (i = 0; i < strlen(str); i++) {
                                    str[i] = str[i] - 3; // The key for decryption is 3 subtracted from ASCII value
                                }
                                printf("\nDecrypted string: %s\n", str);
                                break;
                            default:
                                printf("\nError\n");
                                return 1;
                        }
                        return 0;
                    }
                    
            </code>
        </pre>
    </p>
</body>
</html>